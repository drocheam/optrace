<!DOCTYPE html>
<html lang="en" data-accent-color="cyan" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>4.1. Overview - optrace 1.7.5 documentation</title><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="4.2. Base Shapes (Surface, Line, Point)" href="surfaces.html" /><link rel="prev" title="4. User Guide" href="index.html" />
      <link rel="canonical" href="https://drocheam.github.io/optrace/usage/overview.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"dark");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=a318c5d4" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=81da21d3" />
    <!--intentionally blank so there are no external fonts loaded-->
    <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://drocheam.github.io/optrace/usage/overview.html"/>
  <meta property="og:title" content="4.1. Overview"/>
    <meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>optrace</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"><ul><li class="link"><a href=".././examples.html">Examples</a></li><li class="link"><a href=".././installation.html">Installation</a></li><li class="link"><a href=".././usage/index.html">User Guide</a></li><li class="link">
          <a href="https://github.com/drocheam/optrace">
            <span>GitHub Repo</span></a>
        </li></ul></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><!--custom github logo so we don't need to connect to some icon provider-->
<div class="sy-head-socials"><a href="https://github.com/drocheam/optrace" aria-label="GitHub">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
  <a href="https://github.com/drocheam/optrace/releases" aria-label="Releases">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-icon lucide-package"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"/><path d="M12 22V12"/><polyline points="3.29 7 12 12 20.71 7"/><path d="m7.5 4.27 9 5.15"/></svg>
  </a>
</div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2"></span>
          <span class="hamburger_3"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../examples.html">1. Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">3. Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">4. User Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="surfaces.html">4.2. Base Shapes (Surface, Line, Point)</a></li>
<li class="toctree-l2"><a class="reference internal" href="elements.html">4.3. Elements (Lens, Ray Source,  …)</a></li>
<li class="toctree-l2"><a class="reference internal" href="group.html">4.4. Geometry Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="raytracer.html">4.5. Raytracer</a></li>
<li class="toctree-l2"><a class="reference internal" href="refraction_index.html">4.6. Refractive Indices</a></li>
<li class="toctree-l2"><a class="reference internal" href="spectrum.html">4.7. Spectrum Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="image.html">4.8. Image Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="focus.html">4.9. Focus Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="tma.html">4.10. Paraxial Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="convolve.html">4.11. PSF Convolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html">4.12. Plotting Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.html">4.13. GUI Interaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui_automation.html">4.14. GUI Automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html">4.15. Advanced Topics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../details/index.html">5. Implementation Details</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../details/sampling.html">5.1. Property Sampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/tracing.html">5.2. Tracing Procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/hurb.html">5.3. Heisenberg Uncertainty Ray Bending</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/image_spectrum.html">5.4. Image and Spectrum Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/matrix_analysis.html">5.5. Ray Transfer Matrix Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/convolution.html">5.6. PSF Convolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/focus.html">5.7. Focus Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/color.html">5.8. Color Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../details/misc.html">5.9. Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">6. API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/structure.html">6.1. Library Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace.html">6.2. Global Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer.html">6.3. tracer Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer_color.html">6.4. tracer.color Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer_geometry.html">6.5. tracer.geometry Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer_geometry_surface.html">6.6. tracer.geometry.surface Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer_image.html">6.7. tracer.image Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer_spectrum.html">6.8. tracer.spectrum Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_tracer_presets.html">6.9. tracer.presets Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_plots.html">6.10. plots Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/optrace_gui.html">6.11. gui Submodule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">7. Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/testing.html">7.1. Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/documentation.html">7.2. Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/packaging.html">7.3. Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/notes.html">7.4. Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/changelog.html">7.5. Changelog</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#structure">4.1.1. Structure</a></li>
<li><a class="reference internal" href="#namespaces">4.1.2. Namespaces</a></li>
<li><a class="reference internal" href="#global-options">4.1.3. Global Options</a><ul>
<li><a class="reference internal" href="#progressbar">4.1.3.1. Progressbar</a></li>
<li><a class="reference internal" href="#warnings">4.1.3.2. Warnings</a></li>
<li><a class="reference internal" href="#multithreading">4.1.3.3. Multithreading</a></li>
<li><a class="reference internal" href="#wavelength-range">4.1.3.4. Wavelength Range</a></li>
<li><a class="reference internal" href="#spectral-colormap">4.1.3.5. Spectral Colormap</a></li>
<li><a class="reference internal" href="#ui-dark-mode">4.1.3.6. UI Dark Mode</a></li>
<li><a class="reference internal" href="#plot-dark-mode">4.1.3.7. Plot Dark Mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multithreading-with-a-specific-number-of-cores">4.1.4. Multithreading with a specific number of cores</a></li>
<li><a class="reference internal" href="#running-optrace-on-wayland">4.1.5. Running optrace on Wayland</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">optrace</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name"><span class="section-number">4. </span>User Guide</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name"><span class="section-number">4.1. </span>Overview</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  <div class="copy-page-wrapper relative pb-4 lg:absolute lg:top-8 lg:right-6 xl:right-12">
  <div id="copy-page-trigger">
    <button
      type="button"
      class="js-copy px-3 py-1 inline-flex items-center gap-1"
      data-url="https://drocheam.github.io/optrace/_sources/usage/overview.rst.txt"
    >
      <i class="i-lucide" data-icon="copy"></i>
      <span>Copy page</span>
    </button>
    <button class="js-menu px-2 py-1" type="button" aria-label="More actions"
      aria-haspopup="menu" aria-expanded="false" aria-controls="copy-page-content">
      <i class="i-lucide chevron-down"></i>
    </button>
  </div>
  <div id="copy-page-content" role="menu" aria-orientation="vertical" aria-hidden="true">
    <div role="presentation">
      <div class="flex flex-col" role="group">
        <button class="js-copy" type="button" role="menuitem"
          data-url="https://drocheam.github.io/optrace/_sources/usage/overview.rst.txt">
          <span class="iconify-icon">
            <i class="i-lucide" data-icon="copy"></i>
          </span>
          <span>Copy page</span>
        </button>
        <a role="menuitem" href="https://drocheam.github.io/optrace/_sources/usage/overview.rst.txt" target="_blank" rel="nofollow"><iconify-icon icon="bi:code-slash"></iconify-icon>
            <span>View Source</span></a><a role="menuitem" href="https://chatgpt.com/?hints=search&q=Read%20https%3A//drocheam.github.io/optrace/_sources/usage/overview.rst.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:openai"></iconify-icon>
          <span>Open in ChatGPT</span>
        </a><a role="menuitem" href="https://claude.ai/new?q=Read%20https%3A//drocheam.github.io/optrace/_sources/usage/overview.rst.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:claude"></iconify-icon>
          <span>Open in Claude</span>
        </a></div>
    </div>
  </div>
</div><article class="yue" role="main">
          <section id="overview">
<h1><span class="section-number">4.1. </span>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h1>
<section id="structure">
<h2><span class="section-number">4.1.1. </span>Structure<a class="headerlink" href="#structure" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-given docutils container" id="id1">
<table class="docutils align-left" id="id1">
<caption><span class="caption-number">Table 4.1 </span><span class="caption-text">Overview of optrace functionality</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 17.4%" />
<col style="width: 43.5%" />
<col style="width: 17.4%" />
<col style="width: 21.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Topic</p></th>
<th class="head"><p>Descriptions</p></th>
<th class="head"><p>Classes/Functions</p></th>
<th class="head"><p>Links</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Paraxial Analysis</strong></p></td>
<td><p>Finding principial planes, focal points, object and image distances, exit and entrance pupil</p></td>
<td><p><a class="reference internal" href="../reference/optrace_tracer.html#optrace.tracer.transfer_matrix_analysis.TMA" title="optrace.tracer.transfer_matrix_analysis.TMA"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.TMA</span></code></a></p></td>
<td><p><a class="reference internal" href="tma.html#usage-tma"><span class="std std-ref">Paraxial Analysis</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Paraxial Imaging</strong></p></td>
<td><p>Image simulation by convolution with a rendered point spread function</p></td>
<td><p><a class="reference internal" href="../reference/optrace_tracer.html#optrace.tracer.convolve.convolve" title="optrace.tracer.convolve.convolve"><code class="xref py py-func docutils literal notranslate"><span class="pre">optrace.convolve</span></code></a></p></td>
<td><p><a class="reference internal" href="convolve.html#usage-convolution"><span class="std std-ref">PSF Convolution</span></a></p></td>
</tr>
<tr class="row-even"><td><p><strong>General Geometrical Optics and Image/Spectrum Simulation</strong></p></td>
<td><p>Sequential Raytracing of optical setups. Analysis of ray paths,
simulation of detector images and spectra, focus finding.</p></td>
<td><p><a class="reference internal" href="../reference/optrace_tracer.html#optrace.tracer.raytracer.Raytracer" title="optrace.tracer.raytracer.Raytracer"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.Raytracer</span></code></a>,
<a class="reference internal" href="../reference/optrace_tracer_image.html#optrace.tracer.image.render_image.RenderImage" title="optrace.tracer.image.render_image.RenderImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.RenderImage</span></code></a>,
<a class="reference internal" href="../reference/optrace_tracer_spectrum.html#optrace.tracer.spectrum.light_spectrum.LightSpectrum" title="optrace.tracer.spectrum.light_spectrum.LightSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.LightSpectrum</span></code></a></p></td>
<td><p><a class="reference internal" href="raytracer.html#usage-raytracer"><span class="std std-ref">Raytracer</span></a>, <a class="reference internal" href="image.html#usage-image"><span class="std std-ref">Image Classes</span></a>,
<a class="reference internal" href="spectrum.html#usage-spectrum"><span class="std std-ref">Spectrum Classes</span></a>, <a class="reference internal" href="focus.html#usage-focus"><span class="std std-ref">Focus Search</span></a>, <a class="reference internal" href="advanced.html#usage-ray-access"><span class="std std-ref">Accessing Ray Properties</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Image, Surface, Spectrum and Refractive Index Plotting</strong></p></td>
<td><p>Display images, spectra, surfaces and refractive indices graphically</p></td>
<td><p><a class="reference internal" href="../reference/optrace_plots.html#module-optrace.plots" title="optrace.plots"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optrace.plots</span></code></a></p></td>
<td><p><a class="reference internal" href="plots.html#usage-plots"><span class="std std-ref">Plotting Functions</span></a></p></td>
</tr>
<tr class="row-even"><td><p><strong>Image color conversion</strong></p></td>
<td><p>Convert or access image colors</p></td>
<td><p><a class="reference internal" href="../reference/optrace_tracer_color.html#module-optrace.tracer.color" title="optrace.tracer.color"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optrace.color</span></code></a> and
<a class="reference internal" href="../reference/optrace_tracer_image.html#optrace.tracer.image.render_image.RenderImage" title="optrace.tracer.image.render_image.RenderImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.RenderImage</span></code></a></p></td>
<td><p><a class="reference internal" href="advanced.html#usage-color"><span class="std std-ref">Color Conversions</span></a>, <a class="reference internal" href="image.html#usage-image"><span class="std std-ref">Image Classes</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Graphical Setup and Visualization</strong></p></td>
<td><p>Graphical display of the tracing scene and traced rays as well as some control features for the simulation</p></td>
<td><p><a class="reference internal" href="../reference/optrace_gui.html#optrace.gui.trace_gui.TraceGUI" title="optrace.gui.trace_gui.TraceGUI"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.TraceGUI</span></code></a></p></td>
<td><p><a class="reference internal" href="gui.html#usage-gui"><span class="std std-ref">GUI Interaction</span></a>, <a class="reference internal" href="gui_automation.html#gui-automation"><span class="std std-ref">GUI Automation</span></a></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="namespaces">
<h2><span class="section-number">4.1.2. </span>Namespaces<a class="headerlink" href="#namespaces" title="Link to this heading">¶</a></h2>
<p><code class="code highlight python docutils literal highlight-python"><span class="n">optrace</span></code> is the primary namespace.
While there is a separate sub-namespace for the tracer, called <a class="reference internal" href="../reference/optrace_tracer.html#module-optrace.tracer" title="optrace.tracer"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optrace.tracer</span></code></a>,
it is automatically included in the main namespace.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">optrace</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ot</span>
</span></pre></div>
</div>
<p>Classes can be now accessed as <code class="code highlight python docutils literal highlight-python"><span class="n">ot</span><span class="o">.</span><span class="n">Raytracer</span><span class="p">,</span> <span class="n">ot</span><span class="o">.</span><span class="n">CircularSurface</span><span class="p">,</span> <span class="n">ot</span><span class="o">.</span><span class="n">RaySource</span><span class="p">,</span> <span class="o">...</span></code>.</p>
<p>optrace provides plotting functionality for images, spectra, media etc.
These plotting functions are included in the <a class="reference internal" href="../reference/optrace_plots.html#module-optrace.plots" title="optrace.plots"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optrace.plots</span></code></a> namespace.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">optrace.plots</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">otp</span>
</span></pre></div>
</div>
<p>The GUI is included in the namespace <a class="reference internal" href="../reference/optrace_gui.html#module-optrace.gui" title="optrace.gui"><code class="xref py py-mod docutils literal notranslate"><span class="pre">optrace.gui</span></code></a>.
Only the <a class="reference internal" href="../reference/optrace_gui.html#optrace.gui.trace_gui.TraceGUI" title="optrace.gui.trace_gui.TraceGUI"><code class="xref py py-class docutils literal notranslate"><span class="pre">TraceGUI</span></code></a> class is relevant there, so it can be directly imported in the main namespace:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">optrace.gui</span><span class="w"> </span><span class="kn">import</span> <span class="n">TraceGUI</span>
</span></pre></div>
</div>
</section>
<section id="global-options">
<h2><span class="section-number">4.1.3. </span>Global Options<a class="headerlink" href="#global-options" title="Link to this heading">¶</a></h2>
<p>Global options are controlled through the attributes of the
class <a class="reference internal" href="../reference/optrace.html#module-optrace.global_options" title="optrace.global_options"><code class="xref py py-class docutils literal notranslate"><span class="pre">optrace.global_options</span></code></a>.</p>
<section id="progressbar">
<h3><span class="section-number">4.1.3.1. </span>Progressbar<a class="headerlink" href="#progressbar" title="Link to this heading">¶</a></h3>
<p>For calculation-intensive tasks a progress bar is displayed inside the terminal
that displays the progress and estimated remaining time.
Here is an example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span data-line="1">Rendering:  40% |############4                  | 8/20 [00:17&lt;00:22]
</span></pre></div>
</div>
<p>It can be turned off globally by:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">show_progressbar</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>
</div>
<p>There is also a context manager available for turning it off temporarily:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">with</span> <span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">no_progress_bar</span><span class="p">():</span>
</span><span data-line="2">    <span class="n">do_something</span><span class="p">()</span>
</span></pre></div>
</div>
</section>
<section id="warnings">
<h3><span class="section-number">4.1.3.2. </span>Warnings<a class="headerlink" href="#warnings" title="Link to this heading">¶</a></h3>
<p>optrace outputs warnings of type <a class="reference internal" href="../reference/optrace.html#optrace.warnings.OptraceWarning" title="optrace.warnings.OptraceWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OptraceWarning</span></code></a>
(which are a custom subclass of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#UserWarning" title="(in Python v3.14)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UserWarning</span></code></a>). These can be filtered using the <a class="reference external" href="https://docs.python.org/3/library/warnings.html#module-warnings" title="(in Python v3.14)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">warnings</span></code></a> python module.
A simple way to silence them, for example when doing many automated tasks, is by writing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">show_warnings</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>
</div>
<p>There is also a context manager available for turning it off temporarily:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">with</span> <span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">no_warnings</span><span class="p">():</span>
</span><span data-line="2">    <span class="n">do_something</span><span class="p">()</span>
</span></pre></div>
</div>
</section>
<section id="multithreading">
<h3><span class="section-number">4.1.3.3. </span>Multithreading<a class="headerlink" href="#multithreading" title="Link to this heading">¶</a></h3>
<p>By default, multithreading parallelizes tasks like raytracing and image rendering.
However, this is undesired in some cases, especially when debugging or running multiple raytracers in parallel.
Multithreading can be turned off with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">multi_threading</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>
</div>
<p>A specific number of cores/threads can be set with the approach in Section <a class="reference internal" href="#number-of-thread-specification"><span class="std std-numref">Section 4.1.4</span></a>.</p>
</section>
<section id="wavelength-range">
<h3><span class="section-number">4.1.3.4. </span>Wavelength Range<a class="headerlink" href="#wavelength-range" title="Link to this heading">¶</a></h3>
<p>optrace is optimized for operation for the visible wavelength range of 380 - 780 nm.
The range can be extended by:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">wavelength_range</span> <span class="o">=</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">800</span><span class="p">]</span>
</span></pre></div>
</div>
<p>Note that most presets like refractive indices are not defined for regions outside the default range.
This can lead to issues when using these presets.</p>
</section>
<section id="spectral-colormap">
<h3><span class="section-number">4.1.3.5. </span>Spectral Colormap<a class="headerlink" href="#spectral-colormap" title="Link to this heading">¶</a></h3>
<p>Spectral plots (spectrum, refractive index, ray coloring) use a spectral colormap
that maps wavelength values to their corresponding colors.
For the visible range, this leads to a rainbow-like mapping.</p>
<p>When working in the infrared or ultraviolet region, they would be mapped to a similar hue and a nearly black color.
To make different values discernible, a custom mapping function should be supplied instead.
One example could be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</span><span data-line="2">
</span><span data-line="3"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">spectral_colormap</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">wl</span><span class="p">:</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">viridis</span><span class="p">((</span><span class="n">wl</span><span class="o">-</span><span class="mi">300</span><span class="p">)</span><span class="o">/</span><span class="mi">800</span><span class="p">)</span>
</span></pre></div>
</div>
<p>In this example the colormap is adapted to use the
<a class="reference external" href="https://matplotlib.org/stable/users/explain/colors/colormaps.html#sequential">viridis colormap from pyplot</a>,
where 300 is mapped to the lowest value of 0 and 800 to the highest value of 1.
The specified function should take a wavelength numpy array (of some length N) as argument
and return a two dimensional array with RGBA values between 0-1 and shape (N, 4).</p>
<p>The colormap can be reset by setting it to <code class="code highlight python docutils literal highlight-python"><span class="kc">None</span></code>.</p>
</section>
<section id="ui-dark-mode">
<h3><span class="section-number">4.1.3.6. </span>UI Dark Mode<a class="headerlink" href="#ui-dark-mode" title="Link to this heading">¶</a></h3>
<p>The UI dark mode is enabled by default.
It can be changed by setting the <code class="code highlight python docutils literal highlight-python"><span class="n">ui_dark_mode</span></code> parameter.
Changes are applied to all current GUI windows as well as new ones.</p>
<p>To deactivate the mode, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">ui_dark_mode</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>
</div>
<figure class="align-center" id="id2">
<a class="dark-light reference internal image-reference" href="../_images/ui_dark_mode.png"><img alt="../_images/ui_dark_mode.png" class="dark-light" src="../_images/ui_dark_mode.png" width="800" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.1 </span><span class="caption-text">With <code class="code highlight python docutils literal highlight-python"><span class="n">ui_dark_mode</span></code> enabled.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id3">
<a class="dark-light reference internal image-reference" href="../_images/ui_light_mode.png"><img alt="../_images/ui_light_mode.png" class="dark-light" src="../_images/ui_light_mode.png" width="800" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.2 </span><span class="caption-text">With <code class="code highlight python docutils literal highlight-python"><span class="n">ui_dark_mode</span></code> disabled.</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="plot-dark-mode">
<h3><span class="section-number">4.1.3.7. </span>Plot Dark Mode<a class="headerlink" href="#plot-dark-mode" title="Link to this heading">¶</a></h3>
<p>For the content of plotting windows, there is a separate option <code class="code highlight python docutils literal highlight-python"><span class="n">plot_dark_mode</span></code>.
It is also enabled by default.</p>
<p>To deactivate it, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">ot</span><span class="o">.</span><span class="n">global_options</span><span class="o">.</span><span class="n">plot_dark_mode</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>
</div>
<p>Deactivating it is useful for documentation or article output, where image are typically shown on a white background.
Note that changes are only applied to new <a class="reference external" href="https://matplotlib.org/stable/api/pyplot_summary.html#module-matplotlib.pyplot" title="(in Matplotlib v3.10.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pyplot</span></code></a> windows, not already opened ones.</p>
<div class="table-wrapper table-borderless docutils container">
<table class="table-borderless docutils align-default">
<tbody>
<tr class="row-odd"><td><figure class="align-center" id="id4">
<a class="dark-light reference internal image-reference" href="../_images/srgb_spectrum.svg"><img alt="../_images/srgb_spectrum.svg" class="dark-light" src="../_images/srgb_spectrum.svg" width="400" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.3 </span><span class="caption-text">With <code class="code highlight python docutils literal highlight-python"><span class="n">plot_dark_mode</span></code> enabled.</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
<td><figure class="align-center" id="id5">
<a class="dark-light reference internal image-reference" href="../_images/srgb_spectrum_light.svg"><img alt="../_images/srgb_spectrum_light.svg" class="dark-light" src="../_images/srgb_spectrum_light.svg" width="400" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 4.4 </span><span class="caption-text">With <code class="code highlight python docutils literal highlight-python"><span class="n">plot_dark_mode</span></code> disabled.</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="multithreading-with-a-specific-number-of-cores">
<span id="number-of-thread-specification"></span><h2><span class="section-number">4.1.4. </span>Multithreading with a specific number of cores<a class="headerlink" href="#multithreading-with-a-specific-number-of-cores" title="Link to this heading">¶</a></h2>
<p>optrace supports setting the number of available cores, which corresponds to the maximum number of threads that will
be used for the computations.
The setting can be either applied as Python argument:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">python<span class="w"> </span>-Xcpu_count<span class="o">=</span><span class="m">4</span><span class="w"> </span>./script.py
</span></pre></div>
</div>
<p>Using an environment variable from the terminal calling python:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">export</span><span class="w"> </span><span class="nv">PYTHON_CPU_COUNT</span><span class="o">=</span><span class="m">4</span>
</span></pre></div>
</div>
<p>Or from within your python script, so it is applied only locally:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span data-line="2"><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PYTHON_CPU_COUNT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># do the computations with 4 threads</span>
</span><span data-line="5"><span class="o">...</span>
</span></pre></div>
</div>
<p>It is important to note that only some actions use multithreading, and only fewer work with all available/specified
cores. Setting the CPU count only provides an upper limit.</p>
</section>
<section id="running-optrace-on-wayland">
<h2><span class="section-number">4.1.5. </span>Running optrace on Wayland<a class="headerlink" href="#running-optrace-on-wayland" title="Link to this heading">¶</a></h2>
<p>There seem to be some remaining issues for Wayland on Linux in optrace’s dependencies
(<a class="reference external" href="https://gitlab.kitware.com/vtk/vtk/-/issues/18701">vtk/issues/18701</a>, <a class="reference external" href="https://github.com/pyvista/pyvistaqt/issues/445">pyvistaqt/issues/445</a>).
This leads to the following error:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span data-line="1">X Error of failed request: BadWindow (invalid Window parameter)
</span><span data-line="2">Major opcode of failed request: 12 (X_ConfigureWindow)
</span><span data-line="3">Resource id in failed request: 0x3
</span><span data-line="4">Serial number of failed request: 7
</span><span data-line="5">Current serial number in output stream: 8
</span></pre></div>
</div>
<p>Set the following environment variable in your terminal before running Python, so X11 is used for the application:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">export</span><span class="w"> </span><span class="nv">QT_QPA_PLATFORM</span><span class="o">=</span>xcb
</span></pre></div>
</div>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="index.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title"><span class="section-number">4. </span>User Guide</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="surfaces.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title"><span class="section-number">4.2. </span>Base Shapes (Surface, Line, Point)</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright">
      &copy; 2026, Damian Mendroch &nbsp;  &nbsp; 
      <a href="../impressum.html" style="color: var(--pst-color-text-muted)">Impressum</a>
      &nbsp; &nbsp; 
      <a href="../impressum.html" style="color: var(--pst-color-text-muted)">Legal Notice</a>
      <br>
  
    </div>
    <div class="sy-foot-copyright">
      <p>
        Made with
    
        <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
        <a href="https://shibuya.lepture.com">Shibuya theme</a>.
      </p>
    </div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=5b045848"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/shibuya.js?v=cac61aee"></script></body>
</html>